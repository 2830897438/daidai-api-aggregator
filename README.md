# DaiDai API Aggregator - SillyTavern æ‰©å±•

ä¸€ä¸ªç”¨äº SillyTavern çš„æ‰©å±•ï¼Œå¯ä»¥èšåˆå¤šä¸ª DaiDai API keys å¹¶æä¾›ç»Ÿä¸€çš„æœ¬åœ°ä»£ç†æœåŠ¡ï¼Œå®ç°è´Ÿè½½å‡è¡¡å’Œè‡ªåŠ¨æ•…éšœè½¬ç§»ã€‚

**âœ¨ ä¸€æ¬¡é…ç½®ï¼Œå‰ç«¯æ§åˆ¶ï¼**

## åŠŸèƒ½ç‰¹æ€§

- âœ… **è´¦å·ç™»å½•** - ä½¿ç”¨ DaiDai å¹³å°è´¦å·å¯†ç ç™»å½•
- âœ… **è‡ªåŠ¨è·å– Keys** - è‡ªåŠ¨è·å–è´¦å·ä¸‹æ‰€æœ‰å¯ç”¨çš„ API keys
- âœ… **ä½™é¢æ˜¾ç¤º** - å®æ—¶æ˜¾ç¤ºæ€»ä½™é¢å’Œæ¯ä¸ª key çš„çŠ¶æ€
- âœ… **å‰ç«¯æ§åˆ¶** - åœ¨æ‰©å±•é¢æ¿ç‚¹å‡»æŒ‰é’®å³å¯å¯åŠ¨/åœæ­¢ä»£ç†
- âœ… **è´Ÿè½½å‡è¡¡** - è½®è¯¢ä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„ API keys
- âœ… **æ•…éšœè½¬ç§»** - è‡ªåŠ¨è·³è¿‡å¤±è´¥çš„ keysï¼Œå¹¶é‡è¯•
- âœ… **æµå¼å“åº”** - å®Œæ•´æ”¯æŒ OpenAI æµå¼è¾“å‡º

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ2æ­¥å®‰è£…ï¼‰

### æ­¥éª¤ 1: å®‰è£…æ‰©å±•

1. æ‰“å¼€ SillyTavern
2. ç‚¹å‡»é¡¶éƒ¨çš„ **æ‰©å±•** å›¾æ ‡ï¼ˆğŸ§©ï¼‰
3. ç‚¹å‡» **"ä» URL å®‰è£…"**
4. ç²˜è´´ï¼š`https://github.com/2830897438/daidai-api-aggregator`
5. ç‚¹å‡» **å®‰è£…** å¹¶ **å¯ç”¨æ‰©å±•**

### æ­¥éª¤ 2: ä¸€æ¬¡æ€§é…ç½®åç«¯

è¿›å…¥æ‰©å±•å®‰è£…ç›®å½•ï¼Œè¿è¡Œé…ç½®è„šæœ¬ï¼š

**Windows:**
```cmd
cd SillyTavern\public\scripts\extensions\third-party\daidai-api-aggregator
node install-backend.js
```

**Linux/Mac:**
```bash
cd SillyTavern/public/scripts/extensions/third-party/daidai-api-aggregator
node install-backend.js
```

**é…ç½®è„šæœ¬ä¼šè‡ªåŠ¨ï¼š**
- âœ… æ‰¾åˆ° SillyTavern çš„ server.js
- âœ… å¤‡ä»½åŸæ–‡ä»¶
- âœ… æ·»åŠ åç«¯é…ç½®ä»£ç 
- âœ… å®Œæˆï¼

**ç„¶åé‡å¯ SillyTavernã€‚**

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

é…ç½®å®Œæˆåï¼Œæ¯æ¬¡ä½¿ç”¨éå¸¸ç®€å•ï¼š

1. **ç™»å½•** - åœ¨æ‰©å±•é¢æ¿è¾“å…¥ DaiDai è´¦å·å¯†ç ï¼Œç‚¹å‡»ç™»å½•
2. **å¯åŠ¨ä»£ç†** - ç‚¹å‡» **"å¯åŠ¨ä»£ç†"** æŒ‰é’®ï¼ˆä»£ç†è‡ªåŠ¨åœ¨åå°å¯åŠ¨ï¼‰
3. **é…ç½® API** - åœ¨ API è®¾ç½®ä¸­ä½¿ç”¨ï¼š`http://localhost:5100/v1`
4. **å¼€å§‹èŠå¤©** - API Key éšæ„å¡«å†™ï¼ˆä¼šè¢«ä»£ç†è‡ªåŠ¨æ›¿æ¢ï¼‰

**å°±è¿™ä¹ˆç®€å•ï¼**

---

## ğŸ“– å·¥ä½œåŸç†

### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SillyTavern   â”‚
â”‚   æ‰©å±•é¢æ¿      â”‚ â† ç™»å½•ã€æŸ¥çœ‹ä½™é¢ã€ç‚¹å‡»å¯åŠ¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ HTTP
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ST åç«¯é›†æˆä»£ç†  â”‚ â† è´Ÿè½½å‡è¡¡ + æ•…éšœè½¬ç§»
â”‚  (è‡ªåŠ¨å¯åŠ¨)     â”‚    (ç‚¹å‡»æŒ‰é’®å³å¯)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ è½®è¯¢ä½¿ç”¨
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Key æ±     â”‚
â”‚  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”  â”‚
â”‚  â”‚K1 â”‚K2 â”‚K3 â”‚  â”‚  â† ä½ çš„å¤šä¸ª API keys
â”‚  â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ è½¬å‘è¯·æ±‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DaiDai API     â”‚
â”‚  (ä¸Šæ¸¸æœåŠ¡å™¨)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä½¿ç”¨æµç¨‹

1. **ä¸€æ¬¡æ€§é…ç½®** - è¿è¡Œ `node install-backend.js`ï¼ˆåªéœ€ä¸€æ¬¡ï¼‰
2. **é‡å¯ SillyTavern** - è®©é…ç½®ç”Ÿæ•ˆ
3. **ä»¥åæ¯æ¬¡ä½¿ç”¨**ï¼š
   - æ‰“å¼€æ‰©å±•é¢æ¿
   - ç™»å½•è´¦å·
   - ç‚¹å‡» "å¯åŠ¨ä»£ç†" æŒ‰é’®
   - ä»£ç†è‡ªåŠ¨åœ¨ SillyTavern åç«¯å¯åŠ¨ï¼

**æ— éœ€æ‰‹åŠ¨è¿è¡Œä»»ä½•è„šæœ¬ï¼**

---

## âš™ï¸ å¸¸è§æ“ä½œ

### æŸ¥çœ‹ä»£ç†çŠ¶æ€

åœ¨æµè§ˆå™¨è®¿é—®ï¼š
```
http://localhost:5100/health
```

### åœæ­¢ä»£ç†

åœ¨æ‰©å±•é¢æ¿ç‚¹å‡» **"åœæ­¢ä»£ç†"** æŒ‰é’®ã€‚

### åˆ·æ–°ä½™é¢

ç‚¹å‡» **"åˆ·æ–°æ•°æ®"** æŒ‰é’®ã€‚

### å¸è½½åç«¯é…ç½®

å¦‚æœéœ€è¦ç§»é™¤åç«¯é…ç½®ï¼š

```bash
cd SillyTavern/public/scripts/extensions/third-party/daidai-api-aggregator
node uninstall-backend.js
```

---

## ğŸ› æ•…éšœæ’é™¤

### Q: ç‚¹å‡»"å¯åŠ¨ä»£ç†"æ²¡ååº”ï¼Ÿ

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç¡®è®¤å·²è¿è¡Œ `node install-backend.js`
2. ç¡®è®¤å·²é‡å¯ SillyTavern
3. æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
4. æ£€æŸ¥ SillyTavern æœåŠ¡å™¨ç»ˆç«¯æ˜¯å¦æœ‰ `[DaiDai]` ç›¸å…³æ—¥å¿—

### Q: æç¤º "node-fetch not found"ï¼Ÿ

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
cd SillyTavern
npm install node-fetch
```

### Q: é…ç½®è„šæœ¬æ‰¾ä¸åˆ° SillyTavernï¼Ÿ

**è§£å†³æ–¹æ¡ˆï¼š**
è¿è¡Œè„šæœ¬æ—¶ä¼šæç¤ºè¾“å…¥ SillyTavern æ ¹ç›®å½•è·¯å¾„ï¼Œæ‰‹åŠ¨è¾“å…¥å®Œæ•´è·¯å¾„å³å¯ã€‚

### Q: å¦‚ä½•ç¡®è®¤åç«¯é…ç½®æˆåŠŸï¼Ÿ

**è§£å†³æ–¹æ¡ˆï¼š**
é‡å¯ SillyTavern åï¼Œåœ¨æœåŠ¡å™¨ç»ˆç«¯åº”è¯¥çœ‹åˆ°ï¼š
```
âœ… DaiDai API Aggregator extension loaded
[DaiDai] Server endpoints registered
```

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
daidai-api-aggregator/
â”œâ”€â”€ manifest.json              # æ‰©å±•æ¸…å•
â”œâ”€â”€ index.js                   # å‰ç«¯ä¸»æ–‡ä»¶
â”œâ”€â”€ style.css                  # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ server.js                  # åç«¯æœåŠ¡å™¨ä»£ç 
â”œâ”€â”€ install-backend.js         # è‡ªåŠ¨é…ç½®è„šæœ¬
â”œâ”€â”€ uninstall-backend.js       # å¸è½½é…ç½®è„šæœ¬
â”œâ”€â”€ package.json               # ä¾èµ–é…ç½®
â”œâ”€â”€ README.md                  # ä¸»æ–‡æ¡£ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â””â”€â”€ QUICKSTART.md              # å¿«é€Ÿå¼€å§‹æŒ‡å—
```

---

## ğŸ” å®‰å…¨å»ºè®®

- ğŸ”’ ä¸è¦åˆ†äº«ä½ çš„ç™»å½•å‡­è¯
- ğŸ”’ ä»£ç†æœåŠ¡å™¨ä»…ç»‘å®šåˆ° `127.0.0.1`ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®
- ğŸ”’ é…ç½®è„šæœ¬ä¼šè‡ªåŠ¨å¤‡ä»½åŸ server.js æ–‡ä»¶
- ğŸ”’ å»ºè®®å®šæœŸæ›´æ¢å¯†ç å’Œ API keys

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯**: JavaScript (Vanilla), jQuery
- **åç«¯**: Node.js, Express
- **API**: RESTful, OpenAI Compatible

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v3.0.0 (2024-12-05)

- ğŸ‰ **ä¸€é”®é…ç½®ï¼Œå‰ç«¯æ§åˆ¶**
- âœ¨ è‡ªåŠ¨é…ç½®è„šæœ¬ (install-backend.js)
- âœ¨ è‡ªåŠ¨å¤‡ä»½åŸæ–‡ä»¶
- âœ¨ ç‚¹å‡»æŒ‰é’®å³å¯å¯åŠ¨/åœæ­¢ä»£ç†
- âœ¨ æ— éœ€æ‰‹åŠ¨è¿è¡Œä»»ä½•è„šæœ¬
- ğŸ¯ å®Œç¾çš„ç”¨æˆ·ä½“éªŒ

### v2.0.0 (2024-12-05)

- âœ¨ ç‹¬ç«‹ä»£ç†æœåŠ¡å™¨
- âœ¨ ä¸€é”®å¯åŠ¨è„šæœ¬

### v1.0.0 (2024-12-05)

- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ

---

## ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·è”ç³»ï¼š
- **Email**: support@daidaibird.top
- **Website**: https://api.daidaibird.top
- **GitHub**: https://github.com/2830897438/daidai-api-aggregator

---

**äº«å—ä¸€é”®å¯åŠ¨çš„ä¾¿åˆ©å§ï¼** ğŸ‰
